@*Defining Model*@
@using RopeyDVDManagementSystem.Models.ViewModels;
@model IEnumerable<MemberDetailViewModel>;

@*Defining ViewData*@
@{
    ViewData["Title"] = "Active Members";
    ViewData["Section"] = "MemberDetails";
    Layout = "_LayoutAdmin";
}

@*Coding*@
@if(Model != null && Model.Count() > 0)
{
<div class="row">
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body mx-3"> 
                <h4 class="card-title mb-2">Member's Loan Details</h4>
                <p class="card-description mb-4"> Choose a member to view their loan deatils.</p>

                <div class="table-responsive">
                    <table class="table" >
                        <thead>
                            <tr class="text-center">
                                <th class="text-white text-center">Member Number</th>
                                <th class="text-white text-center">First Name</th>
                                <th class="text-white text-center">Last Name</th>
                                <th class="text-white text-center">Address </th>
                                <th class="text-white text-center">Last Loan DVD</th>
                                <th class="text-white text-center">Last Loan Date</th>
                                <th class="text-white text-center">Last Activity</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                            <tr  class="border-0 text-center">
                                <td class="align-middle">@item.MemberNumber</td>
                                <td class="align-middle">@item.MemberFirstName</td>
                                <td class="align-middle">@item.MemberLastName</td>
                                <td class="align-middle">@item.MemberAddress</td>
                                <td class="align-middle">@item.LastLoanDVDTitle</td>
                                <td class="align-middle">@Html.DisplayFor(modelItem => item.LastLoanDate)</td>
                                <td class="align-middle">@item.LastActivity Day Ago</td>
                            </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
}
else
{
    <div class="row">
        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body d-flex flex-column justify-content-center text-center" >

                    <div class="d-flex justify-content-center">
                        <script src="https://unpkg.com/@@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
                        <lottie-player src="https://assets7.lottiefiles.com/packages/lf20_a72gydf0.json"  background="transparent"  speed="1"  style="width: 400px; height: 400px;"  loop  autoplay></lottie-player>
                    </div>

                    <p class="text-gray text-center" >Uh Oh! Details for Active Memebers were not found.</p>
                </div>
            </div>
        </div>
    </div>
}